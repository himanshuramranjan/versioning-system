+-----------------+
|     User        |
+-----------------+
| - id: String    |
| - name: String  |
+-----------------+
| +getId()        |
| +getName()      |
+-----------------+

+-----------------+
|   FileState     |
+-----------------+
| UNMODIFIED      |
| MODIFIED        |
| UNTRACKED       |
+-----------------+

+------------------------+
|      Document          |
+------------------------+
| - name: String         |
| - content: String      |
| - state: FileState     |
+------------------------+
| +getName()             |
| +getContent()          |
| +setContent(String)    |
| +getState()            |
| +setState(FileState)   |
| +clone(): Document     |
+------------------------+

+-------------------------------------+
|              Commit                |
+-------------------------------------+
| - id: String                       |
| - message: String                  |
| - timestamp: Instant              |
| - parent: Commit                   |
| - snapshot: Map<String, Document>  |
+-------------------------------------+
| +getId()                           |
| +getMessage()                      |
| +getTimestamp()                    |
| +getParent()                       |
| +getSnapshot()                     |
+-------------------------------------+

+-----------------------------------------+
|       Branch                            |
+-----------------------------------------+
| - name: String                          |
| - head: Commit                          |
| - stash: Queue<Map<String, Document>>   |
+-----------------------------------------+
| +getName()                              |
| +getHead()                              |
| +setHead(Commit)                        |
| +stashChanges(Map<String, Document>)    |
| +popStash()                            |
| +hasStash()                            |
+-----------------------------------------+

+---------------------------------------------+
|               Repository                    |
+---------------------------------------------+
| - id: String                                |
| - name: String                              |
| - owner: User                               |
| - branches: Map<String, Branch>             |
| - currentBranch: Branch                     |
| - workingDirectory: Map<String, Document>   |
+---------------------------------------------+
| +getId()                                    |
| +getName()                                  |
| +getOwner()                                 |
| +getCurrentBranch()                         |
| +getBranches()                              |
| +getWorkingDirectory()                      |
| +switchBranch(String)                       |
| +createBranch(String)                       |
+---------------------------------------------+

          +------------------------+
          |    <<interface>>       |
          |     DiffStrategy       |
          +------------------------+
          | +calculateDiff(String, |
          |   String): String      |
          +------------------------+
                  /_\\
                   |
                   |
     +----------------------------+
     |     LineDiffStrategy       |
     +----------------------------+
     | +calculateDiff(String,     |
     |   String): String          |
     +----------------------------+

+-----------------------------------------+
|           VersionManager                |
+-----------------------------------------+
| - diffStrategy: DiffStrategy            |
+-----------------------------------------+
| +commit(Repository, String)             |
| +log(Repository)                        |
| +diff(Commit, Commit)                   |
| +mergeBranches(Repository, String)      |
| +status(Repository)                     |
| +stash(Repository)                      |
| +stashPop(Repository)                   |
+-----------------------------------------+

+------------------------+
|         Main           |
+------------------------+
| +main(String[] args)   |
+------------------------+
